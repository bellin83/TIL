<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=<device-width>, initial-scale=1.0" />
  <title>Document</title>
</head>
<body>
<script>
  function solution(m, product) {
    // let answer = 0;
    // let n = product.length;
    //
    // product.sort((a, b) => (a[0] + a[1]) - (b[0] + b[1]));
    //
    // for (let i = 0; i < n; i++) {
    //   let money = m - (product[i][0] / 2 + product[i][1]); // 할인받은 금액
    //   let cnt = 1;
    //   for (let j = 0; j < n; j++) {
    //     if (j!==i && (product[j][0] + product[j][1] > money)) break;
    //     if (j!==i && (product[j][0] + product[j][1] <= money)) {
    //       money -= (product[j][0] + product[j][1]);
    //       cnt++;
    //     }
    //   }
    //   answer = Math.max(answer, cnt);
    // }
    //
    // return answer;

    // let result = 0;
    // let n = product.length;
    //
    // // 내림차순으로 정렬
    // product.sort((a, b) => (a[0] + a[1]) - (b[0] + b[1]));
    //
    // for (let i = 0; i < n; i++) {
    //   let remainMoney = m - product[i][0] / 2; // 먼저 할인 받고 남은 금액 셋팅
    //   let cnt = 1;
    //
    //   for (let j = 0; j < n; j++) {
    //     if (i !== j && (product[j][0] + product[j][1]) > remainMoney) {
    //       break;
    //     }
    //     if (i !== j && (product[j][0] + product[j][1]) <= remainMoney) {
    //       cnt++;
    //       remainMoney -= (product[j][0] + product[j][1]);
    //     }
    //   }
    //   result = Math.max(cnt, result);
    // }
    //
    // return result;

    let result = 0;
    let studentCount = product.length;
    let money = m;
    let wishList = product;
    // wishList.sort((a, b) => (b[0] + b[1]) - (a[0] + a[1]))
    wishList.sort((a, b) => (a[0] + a[1]) - (b[0] + b[1]))

    for (let i = 0; i < studentCount; i++) {
      let remainMoney = money - ((wishList[i][0] / 2) + wishList[i][1]);
      let buyCount = 1;
      for (let j = 0; j < studentCount; j++) {
        if (i !== j && remainMoney < (wishList[j][0] + wishList[j][1])) {
          break;
        }
        if (i !== j && remainMoney >= (wishList[j][0] + wishList[j][1])) {
          remainMoney -= (wishList[j][0] + wishList[j][1]);
          buyCount++;
        }
      }
      result = Math.max(result, buyCount);
    }

    return result;
  }

  let arr = [[6, 6], [2, 2], [4, 3], [4, 5], [10, 3]];
  console.log(solution(28, arr));
</script>
</body>
</html>