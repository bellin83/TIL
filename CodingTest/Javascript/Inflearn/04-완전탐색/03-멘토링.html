<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=<device-width>, initial-scale=1.0" />
  <title>Document</title>
</head>
<body>
<script>
  function solution(test) {
    // let answer = 0;
    // let tmp = [];
    // let m = test.length;
    // let n = test[0].length;
    //
    // for (let i = 1; i <= n; i++) {
    //   for (let j = 1; j <= n; j++) {
    //     let cnt = 0;
    //     for (let k = 0; k < m; k++) {
    //       let pi = 0;
    //       let pj = 0;
    //       for (let s = 0; s < n; s++) {
    //         if (test[k][s] === i) pi = s;
    //         if (test[k][s] === j) pj = s;
    //       }
    //       if (pi < pj) cnt++;
    //     }
    //     if (cnt === m) {
    //       tmp.push([i, j]);
    //       answer++;
    //     }
    //   }
    // }
    //
    // console.log('tmp ==========>', tmp);
    // return answer;

    let result = 0;
    let totalStudentCount = arr[0].length;
    let mathTestCount = arr.length;
    let temp = [];

    for (let i = 1; i <= totalStudentCount; i++) {
      for (let j = 1; j <= totalStudentCount; j++) {
        let higherCount = 0;
        for (let mathTestIndex = 0; mathTestIndex < mathTestCount; mathTestIndex++) {
          let iRank = 0;
          let jRank = 0;
          for (let rankIndex = 0; rankIndex < totalStudentCount; rankIndex++) {
            if (i === test[mathTestIndex][rankIndex]) iRank = rankIndex;
            if (j === test[mathTestIndex][rankIndex]) jRank = rankIndex;
          }
          if (iRank < jRank) higherCount++;
        }
        if (higherCount === mathTestCount) {
          temp.push([i, j]);
          result++;
        }
      }
    }

    console.log('temp ==========>', temp);
    return result;
  }

  let arr = [[3, 4, 1, 2], [4, 3, 2, 1], [3, 1, 4, 2]];
  console.log(solution(arr));
</script>
</body>
</html>